<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Date/Time functions · JSONata</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## `$now()`"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Date/Time functions · JSONata"/><meta property="og:type" content="website"/><meta property="og:url" content="http://docs.jsonata.org/"/><meta property="og:description" content="## `$now()`"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/jsonata-button.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/jsonata-examples.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/jsonata-button.png" alt="JSONata"/><h2 class="headerTitleWithLogo">JSONata</h2></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/next/overview" target="_self">Docs</a></li><li class=""><a href="http://try.jsonata.org" target="_self">Try</a></li><li class=""><a href="https://github.com/jsonata-js/jsonata" target="_self">GitHub</a></li><li class=""><a href="https://www.npmjs.com/package/jsonata" target="_self">NPM</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Function Library</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/next/using-nodejs">In NodeJS</a></li><li class="navListItem"><a class="navItem" href="/next/using-browser">In a Web Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Language Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/simple">Simple Queries</a></li><li class="navListItem"><a class="navItem" href="/next/predicate">Predicate Queries</a></li><li class="navListItem"><a class="navItem" href="/next/expressions">Functions and Expressions</a></li><li class="navListItem"><a class="navItem" href="/next/construction">Result Structures</a></li><li class="navListItem"><a class="navItem" href="/next/composition">Query Composition</a></li><li class="navListItem"><a class="navItem" href="/next/sorting-grouping">Sorting, Grouping and Aggregation</a></li><li class="navListItem"><a class="navItem" href="/next/processing">Processing Model</a></li><li class="navListItem"><a class="navItem" href="/next/programming">Functional Programming</a></li><li class="navListItem"><a class="navItem" href="/next/regex">Regular Expressions</a></li><li class="navListItem"><a class="navItem" href="/next/date-time">Date/Time Processing</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Operators</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/path-operators">Path Operators</a></li><li class="navListItem"><a class="navItem" href="/next/numeric-operators">Numeric Operators</a></li><li class="navListItem"><a class="navItem" href="/next/comparison-operators">Comparison Operators</a></li><li class="navListItem"><a class="navItem" href="/next/boolean-operators">Boolean Operators</a></li><li class="navListItem"><a class="navItem" href="/next/other-operators">Other Operators</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Function Library</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/string-functions">String Functions</a></li><li class="navListItem"><a class="navItem" href="/next/numeric-functions">Numeric Functions</a></li><li class="navListItem"><a class="navItem" href="/next/aggregation-functions">Aggregation Functions</a></li><li class="navListItem"><a class="navItem" href="/next/boolean-functions">Boolean Functions</a></li><li class="navListItem"><a class="navItem" href="/next/array-functions">Array Functions</a></li><li class="navListItem"><a class="navItem" href="/next/object-functions">Object Functions</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/next/date-time-functions">Date/Time Functions</a></li><li class="navListItem"><a class="navItem" href="/next/higher-order-functions">Higher Order Functions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Extending JSONata</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/embedding-extending">Embedding and Extending JSONata</a></li><li class="navListItem"><a class="navItem" href="/next/contributing">Community and Contributing</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/jsonata-js/jsonata/edit/master/docs/date-time-functions.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Date/Time functions</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="now"></a><a href="#now" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>$now()</code></h2>
<p><strong>Signature:</strong> <code>$now([picture [, timezone]])</code></p>
<p>Generates a UTC timestamp in ISO 8601 compatible format and returns it as a string.  All invocations of <code>$now()</code> within an evaluation of an expression will all return the same timestamp value.</p>
<p>If the optional <code>picture</code> and <code>timezone</code> parameters are supplied, then the current timestamp is formatted as described by the <a href="#frommillis"><code>$fromMillis()</code></a> function.</p>
<p><strong>Examples</strong></p>
<ul>
<li><code>$now()</code> =&gt; <code>&quot;2017-05-15T15:12:59.152Z&quot;</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="millis"></a><a href="#millis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>$millis()</code></h2>
<p><strong>Signature:</strong> <code>$millis()</code></p>
<p>Returns the number of milliseconds since the Unix <em>Epoch</em> (1 January, 1970 UTC) as a number.  All invocations of <code>$millis()</code> within an evaluation of an expression will all return the same value.</p>
<p><strong>Examples</strong></p>
<ul>
<li><code>$millis()</code> =&gt; <code>1502700297574</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="frommillis"></a><a href="#frommillis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>$fromMillis()</code></h2>
<p><strong>Signature:</strong> <code>$fromMillis(number [, picture [, timezone]])</code></p>
<p>Convert the <code>number</code> representing milliseconds since the Unix <em>Epoch</em> (1 January, 1970 UTC) to a formatted string representation of the timestamp  as specified by the <code>picture</code> string.</p>
<p>If the optional <code>picture</code> parameter is omitted, then the timestamp is formatted in the <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a> format.</p>
<p>If the optional <code>picture</code> string is supplied, then the timestamp is formatted occording to the representation specified in that string.
The behaviour of this function is consistent with the two-argument version of the XPath/XQuery function <a href="https://www.w3.org/TR/xpath-functions-31/#func-format-dateTime">fn:format-dateTime</a> as defined in the XPath F&amp;O 3.1 specification.  The picture string parameter defines how the timestamp is formatted and has the <a href="https://www.w3.org/TR/xpath-functions-31/#date-picture-string">same syntax</a> as fn:format-dateTime.</p>
<p>If the optional <code>timezone</code> string is supplied, then the formatted timestamp will be in that timezone.  The <code>timezone</code> string should be in the
format &quot;±HHMM&quot;, where ± is either the plus or minus sign and HHMM is the offset in hours and minutes from UTC.  Positive offset for timezones
east of UTC, negative offset for timezones west of UTC.</p>
<p><strong>Examples</strong></p>
<ul>
<li><code>$fromMillis(1510067557121)</code> =&gt; <code>&quot;2017-11-07T15:12:37.121Z&quot;</code></li>
<li><code>$fromMillis(1510067557121, '[M01]/[D01]/[Y0001] [h#1]:[m01][P]')</code> =&gt; <code>&quot;11/07/2017 3:12pm&quot;</code></li>
<li><code>$fromMillis(1510067557121, '[H01]:[m01]:[s01] [z]', '-0500')</code> =&gt; <code>&quot;10:12:37 GMT-05:00&quot;</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="tomillis"></a><a href="#tomillis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>$toMillis()</code></h2>
<p><strong>Signature:</strong> <code>$toMillis(timestamp [, picture])</code></p>
<p>Convert a <code>timestamp</code> string to the number of milliseconds since the Unix <em>Epoch</em> (1 January, 1970 UTC) as a number.</p>
<p>If the optional <code>picture</code> string is not specified, then the format of the timestamp is assumed to be <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a>. An error is thrown if the string is not in the correct format.</p>
<p>If the <code>picture</code> string is specified, then the format is assumed to be described by this picture string using the <a href="https://www.w3.org/TR/xpath-functions-31/#date-picture-string">same syntax</a> as the XPath/XQuery function <a href="https://www.w3.org/TR/xpath-functions-31/#func-format-dateTime">fn:format-dateTime</a>, defined in the XPath F&amp;O 3.1 specification.</p>
<p><strong>Examples</strong></p>
<ul>
<li><code>$toMillis(&quot;2017-11-07T15:07:54.972Z&quot;)</code> =&gt; <code>1510067274972</code></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/next/object-functions"><span class="arrow-prev">← </span><span>Object Functions</span></a><a class="docs-next button" href="/next/higher-order-functions"><span>Higher Order Functions</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#now"><code>$now()</code></a></li><li><a href="#millis"><code>$millis()</code></a></li><li><a href="#frommillis"><code>$fromMillis()</code></a></li><li><a href="#tomillis"><code>$toMillis()</code></a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jsonata-white-167.png" alt="JSONata"/></a><div><h5>JSONata</h5><a href="http://jsonata.org" target="_blank" rel="noreferrer noopener">JSON query and<br/>transformation language</a><a href="http://try.jsonata.org" target="_blank" rel="noreferrer noopener">Go play in the<br/>JSONata Exerciser</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jsonata" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://jsonata.slack.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/jsonata-js/jsonata">GitHub</a><a class="github-button" href="https://github.com/jsonata-js/jsonata" data-icon="octicon-star" data-count-href="/jsonata-js/jsonata/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2021 JSONata.org</section></footer></div></body></html>